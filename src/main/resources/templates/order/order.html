<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Ï£ºÎ¨∏ Í¥ÄÎ¶¨</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</head>
<body class="d-flex flex-column" style="min-height: 100vh;">
    <!-- ‚úÖ Í≥µÌÜµ Î†àÏù¥ÏïÑÏõÉ -->
    <div th:replace="~{layouts/header :: header}"></div>

    <div class="d-flex flex-grow-1">
        <!-- ‚úÖ Sidebar -->
        <div th:replace="~{layouts/sidebar :: sidebar}"></div>

        <main class="p-4 flex-fill">
            <div class="container">
                <h2 class="mb-4">Ï£ºÎ¨∏ Í¥ÄÎ¶¨</h2>
                <!-- üîç Í≤ÄÏÉâ Î∞è Î≤ÑÌäº -->
                <div class="d-flex flex-wrap gap-2 align-items-center mb-3">
                    <input type="text" class="form-control w-auto" placeholder="Í≥†Í∞ùÏÇ¨Î™Ö" />
                    <input type="date" class="form-control w-auto" />
                    <span class="align-self-center">~</span>
                    <input type="date" class="form-control w-auto" />
                    <button class="btn btn-outline-secondary">Í≤ÄÏÉâ</button>
                    <button class="btn btn-outline-success ms-auto">ÏóëÏÖÄ Îã§Ïö¥Î°úÎìú</button>
                    <button class="btn btn-danger">ÏÇ≠Ï†ú</button>
                    <button class="btn btn-primary" onclick="openOrderAddModal()" data-bs-toggle="modal" data-bs-target="#orderRegisterModal">+ Ï£ºÎ¨∏ Îì±Î°ù</button>
                </div>

                <!-- üìã Ï£ºÎ¨∏ ÌÖåÏù¥Î∏î -->
                <div class="table-responsive">
                    <table class="table table-bordered text-center align-middle">
                        <thead class="table-light">
                            <tr>
                                <th><input type="checkbox" /></th>
                                <th>ÏàúÎ≤à</th>
                                <th>Ï£ºÎ¨∏ÏùºÏûê</th>
                                <th>Ï£ºÎ¨∏Î≤àÌò∏</th>
                                <th>Í≥†Í∞ùÏÇ¨</th>
                                <th>ÎÇ©Í∏∞ÏùºÏûê</th>
                                <th>ÌíàÎ™©Ïàò</th>
                                <th>Ï¥ùÍ∏àÏï°</th>
                                <th>Îã¥ÎãπÏûê</th>
                                <th>ÎπÑÍ≥†</th>
                                <th>ÏÉÅÏÑ∏</th>
                                <th>ÏàòÏ†ï</th>
                                <th>Ï∂úÍ≥†Îì±Î°ù</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr th:each="order : ${orders}">
                                <td><input type="checkbox" /></td>
                                <td th:text="${order.sequence}"></td>
                                <td th:text="${order.orderDate}"></td>
                                <td th:text="${order.orderNumber}"></td>
                                <td th:text="${order.customer}"></td>
                                <td th:text="${order.dueDate}"></td>
                                <td th:text="${order.itemCount}"></td>
                                <td th:text="${order.totalAmount}"></td>
                                <td th:text="${order.manager}"></td>
                                <td>-</td>
                                <td>
                                    <button class="btn btn-info btn-sm" onclick="openOrderDetailModal({ customer: '${order.customer}', order_date: '${order.orderDate}', due_date: '${order.dueDate}', manager: '${order.manager}', note: '${order.note}', items: '${order.items}' })">ÏÉÅÏÑ∏</button>
                                </td>
                                <td>
                                    <button class="btn btn-warning btn-sm" onclick="openOrderEditModal({ id: '${order.id}', customer_id: '${order.customerId}', order_date: '${order.orderDate}', due_date: '${order.dueDate}', manager: '${order.manager}', note: '${order.note}', items: '${order.items}' })">ÏàòÏ†ï</button>
                                </td>
                                <td>
                                    <button class="btn btn-success btn-sm" onclick="openShipmentFromOrder({ customer_id: '${order.customerId}', manager: '${order.manager}', items: '${order.items}' })">Ï∂úÍ≥†Îì±Î°ù</button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </main>
    </div>
    
    <!-- üëá Ïó¨Í∏∞Ïóê Î™®Îã¨ HTML ÏΩîÎìúÎ•º ÏÇΩÏûÖÌï©ÎãàÎã§. -->
	<!-- <div th:insert="~{order/order-register-modal :: modal}"></div> -->
	<!-- <div th:insert="~{order/order-detail-modal :: modal}"></div> -->
	<!-- ÎßåÏïΩ Î™®Îã¨ ÌååÏùº Ï†ÑÏ≤¥Î•º Ìè¨Ìï®ÏãúÌÇ®Îã§Î©¥ Ïù¥Î†áÍ≤å ÏÇ¨Ïö©Ìï©ÎãàÎã§. -->
	<div th:insert="~{order/order-register-modal}"></div>
	<div th:insert="~{order/order-detail-modal}"></div>

    <!-- ‚úÖ Í≥µÌÜµ Ïª¥Ìè¨ÎÑåÌä∏ fetch -->
    <script src="/js/order/order.js"></script>
</body>
</html>
